
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Form & Input Validation Using Jquery</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="resource/bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">
        <style>
            .gradient, .btn, .input-error>.msg{
                filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#1a000000', GradientType=0);
                background-image: -webkit-gradient(linear,0 0,0 100%,from(transparent),color-stop(40%,rgba(0,0,0,.05)),to(rgba(0,0,0,.1)));
                background-image: -webkit-linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1));
                background-image: -moz-linear-gradient(top,rgba(0,0,0,.05) 0,rgba(0,0,0,.1));
                background-image: -o-linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1));
                background-image: linear-gradient(transparent,rgba(0,0,0,.05) 40%,rgba(0,0,0,.1));
            }

            .my-btn{
                padding:7px 30px;
                border:none;
                text-shadow: -1px 1px 2px rgba(0, 0, 0, 0.5);
                transition:all 0.3s;
            }
            .my-btn:hover,.my-btn:active {
                box-shadow: 0px 8px 10px rgba(0, 0, 0, 0.4);
            }
            .my-btn.btn-default{background-color: #f0f0f0;}

            .no-radius, 
            .no-radius .form-control, .no-radius .btn, .no-radius .input-group{
                border-radius:0;
            }

            .input-error{
                display:none;
                position: absolute;
                padding-top: 4px;
                margin-right: 15px;
                pointer-events: none;
                box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.6);
                overflow: hidden;
            }
            .input-error>.msg{
                padding:4px 8px;
                font-size: 12px;
                font-weight: bold;
                background-color: #e83326;
                color: #fff;
            }
            .input-error>.arrow{
                position: absolute;
                margin-left: 2px;
                border: 4px solid transparent;
                border-top: none;
                border-bottom-color: #e83326;
                top: 0;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1 class="page-header">Validation</h1>
            <form class="row no-radius">
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Text *</label>
                        <input type="text" required="" class="form-control" />
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Number</label>
                        <input data-type="number" class="form-control" />
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Email</label>
                        <input data-type="email" class="form-control" />
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Url</label>
                        <input type="url" class="form-control" />
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Pattern</label>
                        <input type="text" pattern="[a-zA-Z]+" class="form-control" />
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Select *</label>
                        <select class="form-control" required="">
                            <option></option>
                            <option>Option 1</option>
                            <option>Option 2</option>
                            <option>Option 3</option>
                            <option>Option 4</option>
                            <option>Option 5</option>
                            <option>Option 6</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Select <small>multiple</small>*</label>
                        <select class="form-control" required="" multiple="multiple" style="height:100px;">
                            <option></option>
                            <option>Option 1</option>
                            <option>Option 2</option>
                            <option>Option 3</option>
                            <option>Option 4</option>
                            <option>Option 5</option>
                            <option>Option 6</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Textarea *</label>
                        <textarea class="form-control" required="" style="height:100px;"></textarea>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Checkbox *</label>
                        <div class="form-control" style="height:auto;">
                            <label class="checkbox-inline">
                                <input type="checkbox" required="" />
                                <span>Checkbox 1</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" required="" />
                                <span>Checkbox 2</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" required="" />
                                <span>Checkbox 3</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Radio *</label>
                        <div class="form-control" style="height:auto;">
                            <label class="radio-inline">
                                <input type="radio" required="" />
                                <span>Radio 1</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" required="" />
                                <span>Radio 2</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" required="" />
                                <span>Radio 3</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Checkbox Group *</label>
                        <div class="form-control" style="height:auto;">
                            <label class="checkbox-inline">
                                <input type="checkbox" name="chk-gp1[]" value="v1" required="" />
                                <span>Checkbox 1</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" name="chk-gp1[]" value="v1" required="" />
                                <span>Checkbox 2</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" name="chk-gp1[]" value="v1" required="" />
                                <span>Checkbox 3</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" name="chk-gp1[]" value="v1" required="" />
                                <span>Checkbox 4</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label">Radio Group *</label>
                        <div class="form-control" style="height:auto;">
                            <label class="radio-inline">
                                <input type="radio" name="rdo-gp1[]" value="v1" required="" />
                                <span>radio 1</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="rdo-gp1[]" value="v1" required="" />
                                <span>radio 2</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="rdo-gp1[]" value="v1" required="" />
                                <span>radio 3</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="rdo-gp1[]" value="v1" required="" />
                                <span>radio 4</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="form-group text-right" data-has-ripples>
                        <button type="button" class="btn btn-primary" data-toggle="add-input"><i class="glyphicon glyphicon-plus"></i></button>
                        <button type="submit" class="btn btn-success my-btn">Submit</button>
                        <button type="reset" class="btn btn-default my-btn">Reset</button>
                    </div>
                </div>
            </form>
        </div>
        <div data-has="javascript">
            <script src="resource/jquery/jquery.min.js"></script>
            <script src="resource/bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
            <script src="resource/js/ripple.js"></script>
            <script>
                (function ($) {
                    var rr = /\S+/,
                            rE = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,
                            rN = /^(-?\d+?\d*(\.0+)?)?$/;
                    $.fn.validateInput = function () {
                        return this.each(function () {
                            if (this.disabled || this.readonly)
                                return;
                            var $i = $(this);
                            $i.attr({'data-required': $i.is('[required]'), 'data-type': $i.data('type') || this.type});
                            $i.on('blur change keyup input', function () {
                                var v = $(this).val();
                                if ((this.prevVal === v || (this.prevVal && v && this.prevVal.toString() === v.toString())) && this.prevChecked === this.checked)
                                    return;
                                this.prevVal = v;
                                this.prevChecked = this.checked;
                                validateInput.call(this);
                            }).on('blur focus mouseover mouseleave', function (e) {
                                if (e.type === 'blur' || e.type === 'mouseleave') {
                                    !$(this).is(':focus') && toggleMsg.call(this, 0);
                                } else {
                                    toggleMsg.call(this, 1);
                                }
                            }).on('has-error', function () {
                                if (!this.$errRef) {
                                    this.$errRef = $('<div/>', {
                                        'class': 'input-error',
                                        'appendTo': 'body'
                                    });
                                }
                                this.title = this.title || (navigator && navigator.vendor === 'Google Inc.') ? ' ' : '';
                                this.$errRef.html('<span class="arrow" />').append('<div class=msg>' + this.validationMsg + '</div>');
                                $(this).attr('has-error', true).is(':focus') && toggleMsg.call(this, 1);
                            }).on('has-no-error', function () {
                                if (this.$errRef) {
                                    this.$errRef.remove();
                                    this.$errRef = null;
                                }
                                $(this).removeAttr('has-error');
                                this.prevVal = undefined;
                                this.prevChecked = undefined;
                                this.isValid = true;
                                if (this.type === 'radio') {
                                    $(this.form).find('[name="' + this.name + '"][has-error]').trigger('has-no-error');
                                }
                            });
                            validateInput.call(this);
                        });
                    };
                    $.fn.validateForm = function () {
                        return this.each(function () {
                            $(this).on('submit reset', function (e) {
                                if (e.type === 'submit') {
                                    $(this).removeAttr('has-error').find(':input').validateInput();
                                    this.isValid = true;
                                    if ($(this).find(':input[has-error]').length > 0) {
                                        e.preventDefault();
                                        this.isValid = false;
                                        $(this).attr('has-error', true);
                                        $(this).find(':input[has-error]:first').focus();
                                    }
                                } else {
                                    $(this).find(':input[has-error]').trigger('has-no-error');
                                }
                            }).attr('novalidate', true).find(':input').validateInput();
                        });
                    };
                    function validateInput() {
                        var $i = $(this),
                                f = true,
                                v = $i.val(),
                                msg = this.validationMessage,
                                ir = $i.is('[data-required="true"]'),
                                iE = $i.is('[data-type="email"]'),
                                iN = $i.is('[data-type="number"]'),
                                iC = $i.is(':checkbox'),
                                iR = $i.is(':radio'),
                                p = $i.attr('pattern');
                        if (iE && !rE.test(v)) {
                            f = false;
                            msg = 'Please enter a valid email address.';
                        } else if (iN && !rN.test(v)) {
                            f = false;
                            msg = 'Please enter a number.';
                        }
                        if (ir) {
                            if (iR) {
                                f = (this.name) ? $(':radio[name="' + this.name + '"]').is(':checked') : this.checked;
                                msg = 'Please select one of these options.';
                            } else if (iC) {
                                f = this.checked;
                                msg = 'Please check this box to proceed.';
                            } else if (v === null || !rr.test(v.toString())) {
                                f = false;
                                msg = $i.is('select') ? 'Please select an item in the list.' : 'Please fill out this field.';
                            }
                        }
                        if (p) {
                            f = new RegExp('^' + p + '$').test(v);
                            msg = 'Please enter in correct format.';
                        }
                        f = this.validationMessage ? false : f;
                        msg = $i.attr('error') || msg;
                        this.validationMsg = msg;
                        this.isValid = f;
                        if (f)
                            $i.trigger('has-no-error');
                        else
                            $i.trigger('has-error');
                        return $i;
                    }
                    function toggleMsg(f) {
                        if (this.$errRef) {
                            var $e = this.$errRef;
                            try {
                                var h = $(this).outerHeight(),
                                        o = $(this).offset(),
                                        t = o.top + h,
                                        l = o.left, v = $e.is(':visible');
                                $e.css({'top': t, 'left': l, 'right': 'auto'});
                                if ($(window).outerWidth() - l < 180)
                                    $e.css({left: 'auto', right: 0});
                                !v && $e.show();
                                $e.children('.arrow').css('left', l - $e.offset().left);
                                !v && $e.hide();
                            } catch (e) {
                            }
                            if (f === 1) {
                                $e.stop().fadeIn(250);
                            } else if (f === 0) {
                                $e.stop().fadeOut();
                            }
                        }
                    }
                    $(window).resize(function () {
                        $(':input[has-error]').each(function () {
                            toggleMsg.call(this);
                        });
                    });
                    $('form').validateForm();
                    $(':input').validateForm();
                })(jQuery);
            </script>
            <script>
                $('body').on('has-error', ':input', function () {
                    $(this).closest('.form-group').addClass('has-error');
                }).on('has-no-error', ':input', function () {
                    $(this).closest('.form-group').removeClass('has-error');
                });
                $('[data-toggle="add-input"]').click(function () {
                    $(this.form).append($('<div class=col-sm-6/>').append($('<div class=form-group />').append('<input class=form-control required />')));
                });
            </script>
        </div>
    </body>
</html>
